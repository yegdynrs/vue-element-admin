(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-82b2782a"],{"0966":function(e,t,a){"use strict";a.r(t);var l=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[a("template",{slot:"header"},[e._v("表单生成-wanghao")]),a("a",{ref:"rely",staticClass:"d-none",attrs:{href:"./static/rely.zip",download:"依赖文件"}}),a("pre",[e._v("该table表示detail的所有字段\n    1：占据宽度（table）  auto/具体px  当为auto表示table将自动计算宽度\n    2：新增表单，勾选后将纳入到新增修改的detail中\n    3：为搜索条件，纳入表单的搜索中\n    4：搜索key，当字段key与搜索条件的key不同时，设置搜索的key\n    5：超出隐藏，表格的超出隐藏开关\n    6：slot列表，当类型为select或者radio时，需要与关联list配合使用，table和detail详情，会自动写上$utils.find(.....)\n    7：关联list，代表当前字段需要关联的列表数据，name:列表的name，\n    8：name:[{xxx:'名字',aaa:'01' }] 这里的xxx代表label，aaa代表key,当不存在列表数据的时候，list默认初始化只为[]\n    9：当类型为radio时，将会拿列表数据的第一个json的key代表字段的数据\n    11：需要自己调整下格式化出来的空格问题。。。\n\n")]),a("el-form",{ref:"form",attrs:{inline:"",model:e.form}},[a("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:e.form.keyList,"row-key":"rowKey"}},[a("el-table-column",{attrs:{label:"字段key",prop:"key","min-width":"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"key"},model:{value:t.row.key,callback:function(a){e.$set(t.row,"key",a)},expression:"scope.row.key"}})]}}])}),a("el-table-column",{attrs:{label:"字段名",prop:"label","min-width":"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"label"},model:{value:t.row.label,callback:function(a){e.$set(t.row,"label",a)},expression:"scope.row.label"}})]}}])}),a("el-table-column",{attrs:{label:"选择类型",prop:"type","min-width":"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{placeholder:"请选择类型"},model:{value:t.row.type,callback:function(a){e.$set(t.row,"type",a)},expression:"scope.row.type"}},e._l(e.typeList,(function(e,l){return a("el-option",{key:"formSearch-typeList-"+t.$index+"-"+l,attrs:{value:e.value,label:e.label}})})),1)]}}])}),a("el-table-column",{attrs:{label:"新增表单",prop:"dialog.value","min-width":"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return["time"==t.row.type||"money"==t.row.type||"futureTime"==t.row.type?a("div",[a("el-input",{attrs:{placeholder:"key1"},model:{value:t.row.combination.key1,callback:function(a){e.$set(t.row.combination,"key1",a)},expression:"scope.row.combination.key1"}}),a("el-input",{attrs:{placeholder:"key2"},model:{value:t.row.combination.key2,callback:function(a){e.$set(t.row.combination,"key2",a)},expression:"scope.row.combination.key2"}})],1):e._e()]}}])}),a("el-table-column",{attrs:{label:"关联List",prop:"list.value",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"flex-center"},[a("el-checkbox",{on:{change:function(a){return e.listChange(t)}},model:{value:t.row.list.value,callback:function(a){e.$set(t.row.list,"value",a)},expression:"scope.row.list.value"}}),t.row.list.value?a("div",[a("el-input",{attrs:{placeholder:"name"},model:{value:t.row.list.name,callback:function(a){e.$set(t.row.list,"name",a)},expression:"scope.row.list.name"}}),a("el-input",{attrs:{placeholder:"label"},model:{value:t.row.list.labelKey,callback:function(a){e.$set(t.row.list,"labelKey",a)},expression:"scope.row.list.labelKey"}}),a("el-input",{attrs:{placeholder:"key"},model:{value:t.row.list.key,callback:function(a){e.$set(t.row.list,"key",a)},expression:"scope.row.list.key"}}),a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:14},placeholder:"请输入列表数据"},model:{value:t.row.list.data,callback:function(a){e.$set(t.row.list,"data",a)},expression:"scope.row.list.data"}})],1):e._e()],1)]}}])}),a("el-table-column",{attrs:{label:"操作",fixed:"right","min-width":"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.removeList(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),a("el-button",{staticClass:"bt",attrs:{size:"small"},on:{click:e.addList}},[e._v("新增 ")]),a("div",[a("el-button",{staticClass:"bt",attrs:{size:"small"},on:{click:e.submit}},[e._v("生成表单")]),a("el-button",{staticClass:"bt",attrs:{size:"small"},on:{click:e.submitForm}},[e._v("生成表单")]),a("el-button",{staticClass:"bt",attrs:{size:"small"},on:{click:e.submitRely}},[e._v("下载依赖文件")])],1),a("div",[a("h3",[e._v("导入数据")]),a("pre",{staticClass:"text-left"},[e._v("测试数据：\nchnExtinfo (string, optional): 渠道配置扩展 ,\nchnlCode (string, optional): 渠道代码 ,\nchnlId (string, optional): 渠道ID ,\nchnlName (string, optional): 渠道名称 ,\ncreateTime (string, optional): 创建时间 ,\nid (integer, optional): 主键ID ,\nisValid (integer, optional): 是否生效,0:无效，1：有效 ,\npayChnl (string, optional): 渠道 ,\npayWay (string, optional): 支付方式 ,\nsettleAcctBank (string, optional): 对应结算账户银行 ,\nsettleAcctName (string, optional): 对应结算账户名称 ,\nsettleAcctNo (string, optional): 对应结算账户 ,\nsettleCnapsNo (string, optional): 对应结算账户银行联行号 ,\nsettleFlag (string, optional): 结算标识 ,\nsettleRule (string, optional): 结算标识 ,\nsingleQuota (number, optional): 单笔限额 ,\nupdateTime (string, optional): 最后更新时间\n        ")]),a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入数据模板"},on:{input:e.importFormDataModal},model:{value:e.importFormData,callback:function(t){e.importFormData=t},expression:"importFormData"}})],1),a("div",[a("h3",[e._v("数据模板")]),a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入数据模板"},model:{value:e.defauleJsonModal,callback:function(t){e.defauleJsonModal=t},expression:"defauleJsonModal"}})],1),a("div",[a("h3",[e._v("完整数据")]),a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入表单",value:JSON.stringify(e.form)},on:{input:e.formJsonModal}})],1)],1)],2)},n=[],o=a("2909"),i=(a("e9c4"),a("a434"),a("498a"),a("ac1f"),a("1276"),a("d81d"),a("99af"),a("5319"),a("d3b7"),a("159b"),a("a9e3"),a("b0c0"),a("53fe")),s=a.n(i),r=(a("ce5d"),{key:"",label:"",list:{name:"",key:"",labelKey:"",data:"",value:!1},combination:{key1:"",key2:""},type:"text",rowKey:(new Date).getTime()}),c={name:"HtmlPage",data:function(){return{defauleJsonModal:JSON.stringify(r),importFormData:"",importFormDataJson:{},typeList:[{value:"text",label:"text"},{value:"select",label:"下拉选择"},{value:"radio",label:"单选"},{value:"time",label:"过去时间"},{value:"futureTime",label:"未来时间"},{value:"money",label:"数字范围"},{value:"address",label:"地址联动"},{value:"phone",label:"电话号码"},{value:"enterprise",label:"社会信用代码"},{value:"certNo",label:"身份证号码"},{value:"bankCardNo",label:"银行账号"}],form:{keyList:[JSON.parse(JSON.stringify(r))]}}},watch:{defauleJsonModal:function(e){e.rowKey=this.form.keyList.length+1+(new Date).getTime(),r=JSON.parse(e)}},mounted:function(){new s.a(this.$refs.table.$el.querySelector("tbody"),{animation:150,onEnd:this.onEnd,ghostClass:"blue-background-class"})},methods:{upCase:function(e){return e[0].toLocaleUpperCase()+e.substr(1)},onEnd:function(e){var t=e.newIndex,a=e.oldIndex,l=this.form.keyList[a];this.form.keyList.splice(a,1),this.form.keyList.splice(t,0,l)},formJsonModal:function(e){this.form=JSON.parse(e)},importFormDataModal:function(e){var t=e.trim();t=","===t[t.length-1]?t:t+=",",t=t.split("\n");var a="",l=!1,n=!1,o={},i=[];t.map((function(e,t){var s=/(\w*)\s*(\([^\)]*\))([^:：]*[:：]\s*([a-zA-Z0-9\u4e00-\u9fa5]*)\s*(.*)\s*,)?/gim.exec(e);if(s&&s[1]){o[s[1]]=o[s[1]]||"",a+="\n          ".concat(s[1],":'', // ").concat(s[4]," ").concat(s[5],"\n          "),l=!!(s[2]&&s[2].indexOf("integer")>-1),n=!!(s[2]&&s[2].indexOf("boolean")>-1);var c=JSON.parse(JSON.stringify(r));if(c.key=s[1],c.label=s[4],c.table.value=!0,c.rowKey=i.length+1+(new Date).getTime(),s[5]&&" "!==s[5]){s[5]=s[5].trim().replace(/[（()）]/gim,"").replace(/[-\s?]/gim," ").replace(/[：:\s?]/gim," ").replace(/\s+/gim," ").replace(/，/gim,",");var u=s[5].split(","),p=[];u.forEach((function(e){var t=e.split(" ");void 0!==t[1]&&void 0!==t[0]&&p.push({label:t[1],value:l?Number(t[0]):t[0]})})),c.type=n?"radio":"select",c.list.name=s[1]+"List",c.list.value=!0,c.list.key="value",c.list.labelKey="label",c.list.data=JSON.stringify(p)}i.push(c)}return e})),a="{\n        ".concat(a,"\n      }"),console.log(a),this.importFormDataJson=o,this.form.keyList=i},addList:function(){var e=JSON.parse(JSON.stringify(r));e.rowKey=this.form.keyList.length+1+(new Date).getTime(),this.form.keyList.push(e)},removeList:function(e){this.form.keyList.splice(e,1)},getLabelWidth:function(e){var t=this;return"[object Array]"===Object.prototype.toString.call(e)?Math.max.apply(Math,Object(o["a"])(e.map((function(e){return t.getLabelWidth(e.length)})))):14*e+12}}},u=c,p=(a("c95a"),a("2877")),d=Object(p["a"])(u,l,n,!1,null,"2c0b2f6e",null);t["default"]=d.exports},2:function(e,t){},3:function(e,t){},c95a:function(e,t,a){"use strict";a("d09c")},ce5d:function(e,t,a){"use strict";a("d3b7"),a("159b"),a("b0c0");var l=a("21a6"),n=a("7c39"),o=a.n(n),i=a("5c96");function s(e,t){Object(l["saveAs"])(new Blob([e]),"".concat(t||"demo.txt"))}function r(e,t){var a=new o.a;"[object Array]"===Object.prototype.toString.call(e)&&(e.forEach((function(e){a.file("".concat(e.name||"demo.txt"),e.value)})),a.generateAsync({type:"blob"}).then((function(e){Object(l["saveAs"])(e,"".concat(t||"demo.zip"))}),(function(){Object(i["Message"])({showClose:!0,message:"导出错误",type:"error"})})))}t["a"]=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"single";switch(a){case"single":s(e,t);break;case"zip":r(e,t);break;default:s(e,t);break}}},d09c:function(e,t,a){},e9c4:function(e,t,a){var l=a("23e7"),n=a("d066"),o=a("d039"),i=n("JSON","stringify"),s=/[\uD800-\uDFFF]/g,r=/^[\uD800-\uDBFF]$/,c=/^[\uDC00-\uDFFF]$/,u=function(e,t,a){var l=a.charAt(t-1),n=a.charAt(t+1);return r.test(e)&&!c.test(n)||c.test(e)&&!r.test(l)?"\\u"+e.charCodeAt(0).toString(16):e},p=o((function(){return'"\\udf06\\ud834"'!==i("\udf06\ud834")||'"\\udead"'!==i("\udead")}));i&&l({target:"JSON",stat:!0,forced:p},{stringify:function(e,t,a){var l=i.apply(null,arguments);return"string"==typeof l?l.replace(s,u):l}})}}]);