(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-da2cf450"],{2:function(e,t){},3:function(e,t){},"3f20":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[a("template",{slot:"header"},[e._v("页面生成-wanghao")]),a("a",{ref:"rely",staticClass:"d-none",attrs:{href:"./static/rely.zip",download:"依赖文件"}}),a("pre",[e._v("该table表示detail的所有字段\n    1：占据宽度（table）  auto/具体px  当为auto表示table将自动计算宽度\n    2：新增表单，勾选后将纳入到新增修改的detail中\n    3：为搜索条件，纳入表单的搜索中\n    4：搜索key，当字段key与搜索条件的key不同时，设置搜索的key\n    5：超出隐藏，表格的超出隐藏开关\n    6：slot列表，当类型为select或者radio时，需要与关联list配合使用，table和detail详情，会自动写上$utils.find(.....)\n    7：关联list，代表当前字段需要关联的列表数据，name:列表的name，\n    8：name:[{xxx:'名字',aaa:'01' }] 这里的xxx代表label，aaa代表key,当不存在列表数据的时候，list默认初始化只为[]\n    9：当类型为radio时，将会拿列表数据的第一个json的key代表字段的数据\n    10：dialog只支持select radio text格式\n    11：需要自己调整下格式化出来的空格问题。。。\n\n")]),a("el-form",{ref:"form",attrs:{inline:"",model:e.form}},[a("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{data:e.form.keyList,"row-key":"rowKey"}},[a("el-table-column",{attrs:{label:"字段key",prop:"key","min-width":"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"key"},model:{value:t.row.key,callback:function(a){e.$set(t.row,"key",a)},expression:"scope.row.key"}})]}}])}),a("el-table-column",{attrs:{label:"字段名",prop:"label","min-width":"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"label"},model:{value:t.row.label,callback:function(a){e.$set(t.row,"label",a)},expression:"scope.row.label"}})]}}])}),a("el-table-column",{attrs:{label:"占据宽度",prop:"minWidth","min-width":"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-input",{attrs:{placeholder:"minWidth"},model:{value:t.row.minWidth,callback:function(a){e.$set(t.row,"minWidth",a)},expression:"scope.row.minWidth"}})]}}])}),a("el-table-column",{attrs:{label:"选择类型",prop:"type","min-width":"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-select",{attrs:{placeholder:"请选择类型"},model:{value:t.row.type,callback:function(a){e.$set(t.row,"type",a)},expression:"scope.row.type"}},e._l(e.typeList,(function(e,n){return a("el-option",{key:"formSearch-typeList-"+t.$index+"-"+n,attrs:{value:e.value,label:e.label}})})),1)]}}])}),a("el-table-column",{attrs:{label:"新增表单",prop:"dialog.value","min-width":"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{model:{value:t.row.dialog.value,callback:function(a){e.$set(t.row.dialog,"value",a)},expression:"scope.row.dialog.value"}},[e._v("为dialog")]),"time"!=t.row.type&&"money"!=t.row.type&&"futureTime"!=t.row.type||!t.row.dialog.value?e._e():a("div",[a("el-input",{attrs:{placeholder:"key1"},model:{value:t.row.dialog.combination.key1,callback:function(a){e.$set(t.row.dialog.combination,"key1",a)},expression:"scope.row.dialog.combination.key1"}}),a("el-input",{attrs:{placeholder:"key2"},model:{value:t.row.dialog.combination.key2,callback:function(a){e.$set(t.row.dialog.combination,"key2",a)},expression:"scope.row.dialog.combination.key2"}})],1)]}}])}),a("el-table-column",{attrs:{label:"table",prop:"table.value","min-width":"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{model:{value:t.row.table.value,callback:function(a){e.$set(t.row.table,"value",a)},expression:"scope.row.table.value"}},[e._v("为table")])]}}])}),a("el-table-column",{attrs:{label:"搜索",prop:"search.value","min-width":"120px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"flex-center"},[a("el-checkbox",{model:{value:t.row.search.value,callback:function(a){e.$set(t.row.search,"value",a)},expression:"scope.row.search.value"}},[e._v("为搜索条件")]),t.row.search.value?a("div",["time"!==t.row.type&&"money"!==t.row.type?a("div",[a("el-input",{attrs:{placeholder:"搜索key"},model:{value:t.row.search.key,callback:function(a){e.$set(t.row.search,"key",a)},expression:"scope.row.search.key"}})],1):a("div",[a("el-input",{attrs:{placeholder:"搜索别名"},model:{value:t.row.search.label,callback:function(a){e.$set(t.row.search,"label",a)},expression:"scope.row.search.label"}}),a("el-input",{attrs:{placeholder:"key1"},model:{value:t.row.search.combination.key1,callback:function(a){e.$set(t.row.search.combination,"key1",a)},expression:"scope.row.search.combination.key1"}}),a("el-input",{attrs:{placeholder:"key2"},model:{value:t.row.search.combination.key2,callback:function(a){e.$set(t.row.search.combination,"key2",a)},expression:"scope.row.search.combination.key2"}})],1)]):e._e()],1)]}}])}),a("el-table-column",{attrs:{label:"关联List",prop:"list.value",width:"200px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"flex-center"},[a("el-checkbox",{on:{change:function(a){return e.listChange(t)}},model:{value:t.row.list.value,callback:function(a){e.$set(t.row.list,"value",a)},expression:"scope.row.list.value"}}),t.row.list.value?a("div",[a("el-input",{attrs:{placeholder:"name"},model:{value:t.row.list.name,callback:function(a){e.$set(t.row.list,"name",a)},expression:"scope.row.list.name"}}),a("el-input",{attrs:{placeholder:"label"},model:{value:t.row.list.labelKey,callback:function(a){e.$set(t.row.list,"labelKey",a)},expression:"scope.row.list.labelKey"}}),a("el-input",{attrs:{placeholder:"key"},model:{value:t.row.list.key,callback:function(a){e.$set(t.row.list,"key",a)},expression:"scope.row.list.key"}}),a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:14},placeholder:"请输入列表数据"},model:{value:t.row.list.data,callback:function(a){e.$set(t.row.list,"data",a)},expression:"scope.row.list.data"}})],1):e._e()],1)]}}])}),a("el-table-column",{attrs:{label:"slot列表",prop:"slot.value"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"flex-center"},[a("el-checkbox",{model:{value:t.row.slot.value,callback:function(a){e.$set(t.row.slot,"value",a)},expression:"scope.row.slot.value"}})],1)]}}])}),a("el-table-column",{attrs:{label:"超出隐藏",prop:"tooltip"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-checkbox",{model:{value:t.row.tooltip,callback:function(a){e.$set(t.row,"tooltip",a)},expression:"scope.row.tooltip"}})]}}])}),a("el-table-column",{attrs:{label:"操作",fixed:"right","min-width":"80px"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){return e.removeList(t.$index,t.row)}}},[e._v("删除")])]}}])})],1),a("el-button",{staticClass:"bt",attrs:{size:"small"},on:{click:e.addList}},[e._v("新增 ")]),a("div",[a("el-button",{staticClass:"bt",attrs:{size:"small"},on:{click:e.submit}},[e._v("生成页面")]),a("el-button",{staticClass:"bt",attrs:{size:"small"},on:{click:e.submitRely}},[e._v("下载依赖文件")])],1),a("div",[a("h3",[e._v("导入数据")]),a("pre",{staticClass:"text-left"},[e._v("测试数据：\nchnExtinfo (string, optional): 渠道配置扩展 ,\nchnlCode (string, optional): 渠道代码 ,\nchnlId (string, optional): 渠道ID ,\nchnlName (string, optional): 渠道名称 ,\ncreateTime (string, optional): 创建时间 ,\nid (integer, optional): 主键ID ,\nisValid (integer, optional): 是否生效,0:无效，1：有效 ,\npayChnl (string, optional): 渠道 ,\npayWay (string, optional): 支付方式 ,\nsettleAcctBank (string, optional): 对应结算账户银行 ,\nsettleAcctName (string, optional): 对应结算账户名称 ,\nsettleAcctNo (string, optional): 对应结算账户 ,\nsettleCnapsNo (string, optional): 对应结算账户银行联行号 ,\nsettleFlag (string, optional): 结算标识 ,\nsettleRule (string, optional): 结算标识 ,\nsingleQuota (number, optional): 单笔限额 ,\nupdateTime (string, optional): 最后更新时间\n        ")]),a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入数据模板"},on:{input:e.importFormDataModal},model:{value:e.importFormData,callback:function(t){e.importFormData=t},expression:"importFormData"}})],1),a("div",[a("h3",[e._v("数据模板")]),a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入数据模板"},model:{value:e.defauleJsonModal,callback:function(t){e.defauleJsonModal=t},expression:"defauleJsonModal"}})],1),a("div",[a("h3",[e._v("完整数据")]),a("el-input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:4},placeholder:"请输入表单",value:JSON.stringify(e.form)},on:{input:e.formJsonModal}})],1)],1)],2)},o=[],i=a("2909"),l=(a("e9c4"),a("a434"),a("498a"),a("ac1f"),a("1276"),a("d81d"),a("99af"),a("5319"),a("d3b7"),a("159b"),a("a9e3"),a("b0c0"),a("4de4"),a("841c"),a("a15b"),a("6062"),a("3ca3"),a("ddb0"),a("7db0"),a("53fe")),r=a.n(l),c=a("ce5d"),s={key:"",label:"",minWidth:"auto",tooltip:!0,list:{name:"",key:"",labelKey:"",data:"",value:!1},slot:{value:!1},dialog:{value:!1,combination:{key1:"",key2:""}},table:{value:!0},type:"text",search:{value:!1,key:"",combination:{key1:"",key2:""},label:""},rowKey:(new Date).getTime()},m={name:"HtmlPage",data:function(){return{defauleJsonModal:JSON.stringify(s),importFormData:"",importFormDataJson:{},typeList:[{value:"text",label:"text"},{value:"select",label:"下拉选择"},{value:"radio",label:"单选"},{value:"time",label:"过去时间"},{value:"money",label:"数字范围"}],form:{keyList:[JSON.parse(JSON.stringify(s))],hasTime:!1,hasMoney:!1,hasDialog:!1,searchRow:!1}}},watch:{defauleJsonModal:function(e){e.rowKey=this.form.keyList.length+1+(new Date).getTime(),s=JSON.parse(e)}},mounted:function(){new r.a(this.$refs.table.$el.querySelector("tbody"),{animation:150,onEnd:this.onEnd,ghostClass:"blue-background-class"})},methods:{upCase:function(e){return e[0].toLocaleUpperCase()+e.substr(1)},onEnd:function(e){var t=e.newIndex,a=e.oldIndex,n=this.form.keyList[a];this.form.keyList.splice(a,1),this.form.keyList.splice(t,0,n)},formJsonModal:function(e){this.form=JSON.parse(e)},importFormDataModal:function(e){var t=e.trim();t=","===t[t.length-1]?t:t+=",",t=t.split("\n");var a="",n=!1,o=!1,i={},l=[];t.map((function(e,t){var r=/(\w*)\s*(\([^\)]*\))([^:：]*[:：]\s*([a-zA-Z0-9\u4e00-\u9fa5]*)\s*(.*)\s*,)?/gim.exec(e);if(r&&r[1]){i[r[1]]=i[r[1]]||"",a+="\n          ".concat(r[1],":'', // ").concat(r[4]," ").concat(r[5],"\n          "),n=!!(r[2]&&r[2].indexOf("integer")>-1),o=!!(r[2]&&r[2].indexOf("boolean")>-1);var c=JSON.parse(JSON.stringify(s));if(c.key=r[1],c.label=r[4],c.table.value=!0,c.rowKey=l.length+1+(new Date).getTime(),r[5]&&" "!==r[5]){r[5]=r[5].trim().replace(/[（()）]/gim,"").replace(/[-\s?]/gim," ").replace(/[：:\s?]/gim," ").replace(/\s+/gim," ").replace(/，/gim,",");var m=r[5].split(","),u=[];m.forEach((function(e){var t=e.split(" ");void 0!==t[1]&&void 0!==t[0]&&u.push({label:t[1],value:n?Number(t[0]):o?Boolean(t[0]):t[0]})})),c.type=o?"radio":"select",c.dialog.value=!1,c.slot.value=!0,c.list.name=r[1]+"List",c.list.value=!0,c.list.key="value",c.list.labelKey="label",c.list.data=JSON.stringify(u)}l.push(c)}return e})),a="{\n        ".concat(a,"\n      }"),console.log(a),this.importFormDataJson=i,this.form.keyList=l},addList:function(){var e=JSON.parse(JSON.stringify(s));e.rowKey=this.form.keyList.length+1+(new Date).getTime(),this.form.keyList.push(e)},removeList:function(e){this.form.keyList.splice(e,1)},getLabelWidth:function(e){var t=this;return"[object Array]"===Object.prototype.toString.call(e)?Math.max.apply(Math,Object(i["a"])(e.map((function(e){return t.getLabelWidth(e.length)})))):14*e+12},getForm:function(){return this.form.hasForm?this.form.searchRow?'\n      <el-form ref="formSearch" :inline="true" :model="formSearch"  size="small" class="search-box">\n      '.concat(this.getFormItem(),'\n      <el-form-item label-width="">\n          <el-button type="primary" size="small" @click="onSearch">搜 索</el-button>\n        </el-form-item>\n      </el-form>'):'\n         <el-form ref="formSearch" :inline="true" :model="formSearch" label-width="'.concat(this.getSearchLabelWidth(),'px" size="small" class="search-box">\n       <el-row type="flex" align="middle">\n        <el-col :lg="19" :md="12">\n      ').concat(this.getFormItem(),'\n      </el-col>\n         <el-col :lg="5" :md="12" class="search-box-right">\n          <el-button type="primary" size="small" @click="onSearch">搜 索</el-button>\n        </el-col>\n      </el-row>\n       </el-form>\n        '):""},getSearchLabelWidth:function(e){var t=e||this.form.keyList.filter((function(e){return e.search.value})).map((function(e){return e.label}));return this.getLabelWidth(t)},getFormItem:function(e){var t=this,a=e||this.form.keyList.filter((function(e){return e.search.value})),n="";return a.forEach((function(e,a){var o=t.getFormItemFn(e.type),i=JSON.parse(JSON.stringify(e));n+=t[o](i,t.form.searchRow)+"\n"})),n},getSearchRow:function(){return this.form.keyList.filter((function(e){return e.search.value})).length<6},getFormItemFn:function(e){var t="getInputItem";switch(e){case"text":t="getInputItem";break;case"select":t="getSelectItem";break;case"radio":t="getRadioItem";break;case"time":t="getTimeItem";break;case"money":t="getMoneyItem";break;default:break}return t},getInputItem:function(e){return'<el-form-item label="'.concat(e.label,'">\n      <el-input v-model.trim="formSearch.').concat(e.key,'" placeholder="请输入').concat(e.label,'" clearable />\n      </el-form-item>')},getMoneyItem:function(e){return'\n      <el-form-item label="'.concat(e.label,'">\n       <NumberRange ref="NRange" :value="[formSearch.').concat(e.search.combination.key1,", formSearch.").concat(e.search.combination.key2,']" @change=";(formSearch.').concat(e.search.combination.key1," = $event[0]), (formSearch.").concat(e.search.combination.key2,' = $event[1])" />\n      </el-form-item>\n      ')},getTimeItem:function(e){return'\n       <el-form-item label="'.concat(e.label,'">\n        <datePicker :longtime="longtime" :default-time="[formSearch.').concat(e.search.combination.key1,", formSearch.").concat(e.search.combination.key2,']" is-auto-add-time @change-time="changeTime" />\n      </el-form-item>\n      ')},getRadioItem:function(e){return this.getSelectItem(e)},getSelectItem:function(e){return'<el-form-item label="'.concat(e.label,'">\n        <el-select v-model.trim="formSearch.').concat(e.key,'" placeholder="请选择').concat(e.label,'">\n          <el-option label="全部" value="" />\n          <el-option v-for="(item, index) in ').concat(e.list.name,'" :key="\'formSearch-').concat(e.list.name,'-\' + index" :value="item.').concat(e.list.key||"value",'" :label="item.').concat(e.list.labelKey||"label",'" />\n        </el-select>\n      </el-form-item>')},getTable:function(){return this.form.hasTable?'\n       <table-page :table-data="tableData" :show-pagination="true" :current-page="pageIndex"  :total-page="totalSize" :page-size="pageSize" @changPage="currentChange" @sizeChange="handleSizeChange">\n           '.concat(this.form.hasDialog?'<div slot="button_box" class="button-box">\n        <el-button type="primary" size="small" @click="handleAdd">新 增</el-button>\n      </div>':"",'\n          \n\n      <template slot="table_column">\n      <el-table-column type="index" label="序号" width="60" align="center" />\n      ').concat(this.getTableItem(),'\n      <el-table-column label="操作" :width="operationWidth" align="center" fixed="right" v-if="operationWidth">\n          <template slot-scope="scope">\n            <el-button size="mini" type="text" @click="handleDetails(scope.row)">详情</el-button>\n            ').concat(this.form.hasDialog?'<el-button size="mini" type="text" @click="handleEdit(scope.row)">修改</el-button>':"","\n            \n          </template>\n        </el-table-column>\n       </template>\n      </table-page>\n      "):""},getTableItem:function(){var e=this,t=this.form.keyList.filter((function(e){return e.table.value})),a="";return t.forEach((function(t,n){var o=e.getTableItemFn(t.slot),i=JSON.parse(JSON.stringify(t));a+=e[o](i)+"\n"})),a},getTableItemFn:function(e){var t="getTableTextItem";switch(e.value){case!1:t="getTableTextItem";break;case!0:t="getTableSelectItem";break;default:t="getTableTextItem";break}return t},getTableTextItem:function(e){return'<el-table-column prop="'.concat(e.key,'" label="').concat(e.label,'" align="center" :min-width="').concat("auto"===e.minWidth?"tableWidth."+e.key:e.minWidth,'" ').concat(e.tooltip?"show-overflow-tooltip":""," />\n")},getTableSelectItem:function(e){return'<el-table-column prop="'.concat(e.key,'" label="').concat(e.label,'" align="center" :min-width="').concat("auto"===e.minWidth?"tableWidth."+e.key:e.minWidth,'" ').concat(e.tooltip?"show-overflow-tooltip":"",' >\n          <template slot-scope="scope">\n            {{ $utils.find(').concat(e.list.name,",scope.row.").concat(e.key,',"').concat(e.list.key||"value",'").').concat(e.list.labelKey||"label"," || scope.row.").concat(e.key,"}}\n          </template>\n        </el-table-column>")},getScript:function(){return"\n      import { listRequest, detailRequest ".concat(this.form.hasDialog?", editRequest, addRequest":""," } from '@/api/template'").concat(this.getScriptImport()).concat(this.getScriptVue(),"\n      ")},getScriptImport:function(){var e="\n",t=[],a=[];return e+=this.form.hasSearchTime?"import datePicker from '@/components/TimeInterval/dateRange.vue'\n        ":"",e+=this.form.hasDialogTime?"import datePicker2 from '@/components/TimeInterval/dateRange2.vue'\n        ":"",this.form.hasTime&&this.form.hasSearchTime&&(a=["getDateTime","longQueryTime"]),this.form.hasTable&&a.push("createColumnWidthWatchFn"),e+=a.length>0?"import { ".concat(a," } from '@/utils/tools'"):"",e+=this.form.hasMoney?"\n        import NumberRange from '@/components/Range/NumberRange'\n        ":"",e+=this.form.hasAddress?"import hhCascader from '@/components/hhCascader.vue'\n        import { cityJson as cityJson2 } from '@/utils/cityData.js'\nimport { flatToObj } from '@/utils/tools'\nconst cityJson = JSON.parse(JSON.stringify(window.cityJson || cityJson2))\nconst cityObj = flatToObj(cityJson.data) // cityObj[code]获取省市区的名称\n":"",e+=this.form.hasFile?"import UploadFile from '@/components/hhFileUpload/uploadFileOss'":"",this.form.hasPhone&&t.push("checkPhone"),this.form.hasEnterprise&&t.push("CheckSocialCreditCode"),this.form.hasCertNo&&t.push("CheckLegalCertNo"),this.form.hasBankCardNo&&t.push("CheckBankCardNo"),t.length>0&&(e+="\timport { ".concat(t," } from '@/utils/validate.js'")),e},getScriptVue:function(){return"\n      ".concat(this.form.hasDialog?"let formDetailDetail={".concat(this.getDialogVueDataForm(),"\n}"):"","\n      export default {\n        name: 'HtmlPage',\n        components: {\n          ").concat(this.getScriptVueComponents().join(",\n"),"\n        },\n        props: {},\n        data() {\n          return {\n            ").concat(this.form.hasTime?"longtime: longQueryTime(1, 'year'), // 限制时间\n":"").concat(this.getBindList()).concat(this.form.hasAddress?"cnCity: cityJson.data,\n":"","\n            pageIndex: 1,\n            pageSize: 10,\n            totalSize: 0,\n            loading: false,\n            operationWidth:0,\n            tableData: [],\n            tableWidth: {\n              ").concat(this.getTableWidth(),"\n            },\n            formSearch:{},\n            searchData: {\n              ").concat(this.getScriptVueSearchData(),"\n            },\n            // 权限key :this.$hasPermisFn(['signature:sealInfo:applyUserSealProduct']),\n            ").concat(this.getDialogVueData()).concat(this.getDetailVueData(),"\n          }\n        },\n        computed: {\n        },\n        watch: {},\n        activated() {\n          this.formSearch = JSON.parse(JSON.stringify(this.searchData))\n          this._getTableList()\n        },\n          created() {\n          this.formSearch = JSON.parse(JSON.stringify(this.searchData))").concat(this.form.hasTable?"\nthis.$watch('tableData', createColumnWidthWatchFn(this.tableWidth));this._getTableList()":"","\n        },\n        mounted() {\n          this.operationWidth = this.$utils.getOperationWidth2([{value:true,length:2}])\n        },\n        methods: {\n          ").concat(this.form.hasTable?' _getTableList(){\n            const data = JSON.parse(JSON.stringify(Object.assign({}, this.searchData, {\n                pageIndex: this.pageIndex,\n                pageSize: this.pageSize\n              })));\n              this.$utils.deleteNull(data)\n              this.formSearch = JSON.parse(JSON.stringify(this.searchData))\n              this.loading = true;\n              listRequest({\n                data: data\n              })\n                .then(res => {\n                  this.loading = false;\n                  if (res.resultCode == "0000") {\n                    this.tableData = res.data.list || [];\n                    this.totalSize = res.data.total || (res.data.pagination\n                      ? res.data.pagination.totalRecord\n                      : 0);\n                  }\n                })\n                .catch(() => {\n                  this.loading = false;\n                });\n          },\n           // 分页\n          currentChange(page) {\n            this.pageIndex = page\n            this._getTableList()\n          },\n          handleSizeChange(val){\n            this.pageSize = val\n            this.pageIndex = 1\n            this._getTableList()\n          },':"","\n          \n          ").concat(this.form.hasTime?this.getChangeTimeFn():"","\n          ").concat(this.form.hasForm?"\n          onSearch() {\n            for (const i in this.formSearch) {\n              this.searchData[i] = this.formSearch[i]\n            }\n            this.pageIndex = 1\n            this._getTableList()\n          },\n          ":"","\n          ").concat(this.form.hasDialog?this.getDialogMethods():"","\n          ").concat(this.getDetailMethods(),"\n        }\n           \n      }\n    ")},getScriptVueComponents:function(){var e=[];return this.form.hasTable&&e.push("TablePage"),this.form.hasSearchTime&&e.push("datePicker"),this.form.hasDialogTime&&e.push("datePicker2"),this.form.hasMoney&&e.push("NumberRange"),this.form.hasAddress&&e.push("hhCascader"),this.form.hasFile&&e.push("UploadFile"),Object(i["a"])(new Set([e]))},getBindList:function(){var e="";return this.form.keyList.forEach((function(t){t.list.value&&(t.list.data?e+="\n            ".concat(t.list.name,":").concat(t.list.data,","):e+="".concat(t.list.name,":[],// ").concat(t.label,"数组"))})),e},getTableWidth:function(){var e=this,t="";return this.form.keyList.filter((function(e){return e.table.value})).forEach((function(a){"auto"===a.minWidth&&(t+="".concat(a.key,": ").concat(e.getLabelWidth(a.label.length)+30,","))})),t+"\n"},getChangeTimeFn:function(){var e=this.form.keyList.find((function(e){return"time"===e.type}));return"changeTime(val) {\n      this.formSearch.".concat(e.search.combination.key1||e.key," = val[0]\n      this.formSearch.").concat(e.search.combination.key2||e.key," = val[1]\n    },")},getDialogVueData:function(){return this.form.hasDialog?"formDetailDialog: false,\n      formDetailJson: {\n        type: 'add',\n        title: '新增'\n      },\n      ".concat(this.getDialogVueDataTool(),"\n      "):""},getDialogVueDataTool:function(){return"".concat(this.form.hasDialogTime?"\ndateOptions:{disabledDate(time) {const today = new Date();today.setHours(0, 0, 0, 0);return time.getTime() < today.getTime()}},":"","\n      formDetail: JSON.parse(JSON.stringify(formDetailDetail)),\n      formDetailRules: {\n        ").concat(this.getDialogVueDataRules(),"\n      },")},getDialogVueDataForm:function(){var e=this,t=this.form.keyList.filter((function(e){return e.dialog.value})),a="";return t.forEach((function(t,n){switch(t.type){case"radio":a+="\n            ".concat(t.key,":").concat(e.getRadioDefault(t),",");break;case"time":t.dialog.combination&&t.dialog.combination.key1&&t.dialog.combination.key2?a+="\n              ".concat(t.dialog.combination.key1,":'',\n              ").concat(t.dialog.combination.key2,":'',\n              "):a+="\n              ".concat(t.key,":'', // ").concat(t.label);break;case"money":t.dialog.combination&&t.dialog.combination.key1&&t.dialog.combination.key2?a+="\n              ".concat(t.dialog.combination.key1,":'',\n              ").concat(t.dialog.combination.key2,":'',\n              "):a+="\n              ".concat(t.key,":'', // ").concat(t.label);break;case"address":a+="\n            ".concat(t.key,":[],// code数组，如果需要具体name，请使用cityObj[code]获取");break;default:a+="\n            ".concat(t.key,":'', // ").concat(t.label);break}})),a},getRadioDefault:function(e){if(e.list.value&&e.list.data)try{var t=JSON.parse(e.list.data),a=t[0][e.list.key];return a=void 0===a?"":a,a="string"===typeof a?"'".concat(a,"'"):a,a}catch(n){console.log(n)}return"''"},getDialogVueDataRules:function(){var e=this.form.keyList.filter((function(e){return e.dialog.value})),t="";return e.forEach((function(e,a){switch(e.type){case"phone":t+="\n            ".concat(e.key,": [{\n            required: true,\n            message: '请输入").concat(e.label,"',\n            trigger: 'blur'\n          },{\n              required: true,\n              trigger: 'blur',\n              validator: checkPhone,\n            }],");break;case"enterprise":t+="\n            ".concat(e.key,": [{\n            required: true,\n            message: '请输入").concat(e.label,"',\n            trigger: 'blur'\n          },{\n              required: true,\n              trigger: 'blur',\n              validator: CheckSocialCreditCode,\n            }],");break;case"certNo":t+="\n            ".concat(e.key,": [{\n            required: true,\n            message: '请输入").concat(e.label,"',\n            trigger: 'blur'\n          },{\n              required: true,\n              trigger: 'blur',\n              validator: CheckLegalCertNo,\n            }],");break;case"bankCardNo":t+="\n            ".concat(e.key,": [{\n            required: true,\n            message: '请输入").concat(e.label,"',\n            trigger: 'blur'\n          },{\n              required: true,\n              trigger: 'blur',\n              validator: CheckBankCardNo,\n            }],");break;case"address":t+="".concat(e.key,": [{\n              required: true,\n              message: '请选择").concat(e.label,"',\n              trigger: 'change',\n              type: 'array'\n            }],")+"\n";break;default:t+="".concat(e.key,": [{\n              required: true,\n              message: '请").concat("select"===e.type?"选择":"输入").concat(e.label,"',\n              trigger: '").concat("select"===e.type?"change":"blur","'\n            }],")+"\n";break}})),t},getDialogMethods:function(){var e="handleAdd(){\n          this.formDetailJson.type = 'add'\n          this.formDetailJson.title = '新增'\n          this.formDetail= JSON.parse(JSON.stringify(formDetailDetail))\n        \n          if (this.$refs.formDetail) this.$refs.formDetail.clearValidate()\n          this.formDetailDialog = true\n      },\n      handleEdit(row){\n        this.formDetailJson.type = 'edit'\n        this.formDetailJson.title = '修改'\n          this.formDetail = Object.assign({}, row)\n          this.formDetailDialog = true\n          if (this.$refs.formDetail) this.$refs.formDetail.clearValidate()\n      },\n      dialogSubmitForm(formName){\n      this.$refs[formName].validate((valid) => {\n        if (valid) {\n          const data = Object.assign({}, this.formDetail)\n          const formDetailJson = this.formDetailJson\n          const api = formDetailJson.type == 'add' ? addRequest : editRequest\n          this.$confirm(`确定${formDetailJson.title}？`, '温馨提示', {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'none'\n          })\n            .then((resj) => {\n              api({ data })\n                .then((res) => {\n                  if (res.resultCode == '0000') {\n                    this.$notify.closeAll()\n                    this.$notify.success({\n                      title: '提示',\n                      message: formDetailJson.title + '成功'\n                    })\n                    this.formDetailDialog = false\n                    this._getTableList()\n                  } else {\n                    throw Error(res.resultMessage)\n                  }\n                })\n                .catch(() => {})\n            })\n            .catch(() => {\n              console.log('取消')\n            })\n        }\n      })\n      },\n      ".concat(this.getDialogMethodsTool(),"\n      ");return e},getDialogMethodsTool:function(){var e="",t=this.form.keyList.filter((function(e){return e.dialog}));return t.forEach((function(t,a){"time"==t.type&&t.dialog.combination.key1&&t.dialog.combination.key2&&(e+="changeTimeFormDetail".concat(t.dialog.combination.key1,"(val){\n            this.formDetail.").concat(t.dialog.combination.key1," = val[0]\n            this.formDetail.").concat(t.dialog.combination.key2," = val[1]\n          },"))})),e},getDetailVueData:function(){return"dialogVisible: false,\n      orderDetails: {}, // 详情"},getDetailMethods:function(){return"// 详情\n    handleDetails(row) {\n      detailRequest({ data: { id: row.id }}).then((res) => {\n        if (res.resultCode == '0000') {\n          this.orderDetails = Object.assign({},row, res.data)\n          this.dialogVisible = true\n        }\n      })\n    },\n    "},getScriptVueSearchData:function(){var e=this,t="";return this.form.keyList.filter((function(e){return e.search.value})).forEach((function(a,n){var o=e.getScriptVueSearchDataFn(a.type),i=JSON.parse(JSON.stringify(a));t+=e[o](i)+"\n"})),t},getScriptVueSearchDataFn:function(e){var t="getVueSearchDataText";switch(e){case"time":t="getVueSearchDataTime";break;case"money":t="getVueSearchDataMoney";break;default:t="getVueSearchDataText";break}return t},getVueSearchDataText:function(e){return"".concat(e.search.key||e.key,":'', // ").concat(e.search.label||e.label)},getVueSearchDataTime:function(e){return"".concat(e.search.combination.key1||e.key,":getDateTime(longQueryTime(1, 'month'), 'date') + ' 00:00:00', // 开始时间\n      ").concat(e.search.combination.key2||e.key,":getDateTime(0, 'date') + ' 23:59:59', // 结束时间")},getVueSearchDataMoney:function(e){return"".concat(e.search.combination.key1||e.key,":'', // 金额范围\n      ").concat(e.search.combination.key2||e.key,":'', // 金额范围\n      ")},getCSS:function(){return"\n      ::v-deep {\n        \n       .form-dialog-box{\n          .el-select{\n                  width: 100%;\n                }\n      }\n      ".concat(this.form.hasMoney?".range-box>.el-input{width: 109px;}":"","\n        ").concat((this.form.hasTime,""),"\n      }\n      ")},getDialog:function(){if(!this.form.hasDialog)return"";var e=this.form.keyList.filter((function(e){return e.dialog.value})).length>6;return'\n      \x3c!--新增/修改--\x3e\n      <Dialog :title="formDetailJson.title" :to-body="false"  custom-class="seal-dialog" :visible.sync="formDetailDialog" width="'.concat(e?60:30,'%" \n      ').concat(e?'custom-class="form-dialog-row"':"","\n      >\n       <template>\n       ").concat(this.getDialogForm(),'\n      </template>\n      <template slot="footer">\n        <el-button size="small" @click="formDetailDialog = false">取消</el-button>\n        <el-button type="primary" size="small" @click="dialogSubmitForm(\'formDetail\')">确定</el-button>\n      </template>\n      </Dialog>\n      ')},getDialogForm:function(){return'<el-form ref="formDetail" :model="formDetail" :rules="formDetailRules" label-width="'.concat(this.getDialogLabelWidth()+10,'px" class="form-dialog-box">\n        ').concat(this.getDialogFormItem(),"\n        </el-form>")},getDialogLabelWidth:function(){var e=this.form.keyList.filter((function(e){return e.dialog.value})).map((function(e){return e.label}));return this.getLabelWidth(e)},getDialogFormItem:function(){var e=this,t=this.form.keyList.filter((function(e){return e.dialog.value})),a="";return t.forEach((function(t,n){var o=e.getDiaLogFormItemFn(t.type),i=JSON.parse(JSON.stringify(t));a+=e[o](i)+"\n"})),a},getDiaLogFormItemFn:function(e){var t="getDialogInputItem";switch(e){case"text":t="getDialogInputItem";break;case"select":t="getDialogSelectItem";break;case"radio":t="getDialogRadiotem";break;case"futureTime":t="getDialogTimeItem";break;case"money":t="getDialogMoneyItem";break;case"file":t="getDialogFile";break;case"address":t="getDialogAddress";break;case"phone":t="getDialogPhone";break;case"enterprise":t="getDialogEnterprise";break;case"certNo ":t="getDialogInputItem";break;case"bankCardNo":t="getDialogInputItem";break;default:break}return t},getDialogInputItem:function(e){return'\n          <el-form-item label="'.concat(e.label,'" prop="').concat(e.key,'">\n            <el-input v-model.trim="formDetail.').concat(e.key,'" type="text" placeholder="请输入').concat(e.label,'" clearable />\n          </el-form-item>')},getDialogSelectItem:function(e){return'\n          <el-form-item label="'.concat(e.label,'" prop="').concat(e.key,'">\n            <el-select v-model="formDetail.').concat(e.key,'" clearable filterable placeholder="请选择').concat(e.label,'">\n              <template v-for="(item,index) in ').concat(e.list.name,'">\n                <el-option :key="\'').concat(e.key,'List\'+index" :label="item.').concat(e.list.labelKey||"label",'" :value="item.').concat(e.list.key||"value",'" />\n              </template>\n            </el-select>\n          </el-form-item>')},getDialogRadiotem:function(e){return'\n      <el-form-item label="'.concat(e.label,'" prop="').concat(e.key,'">\n      <el-radio-group v-model="formDetail.').concat(e.key,'">\n          <el-radio :label="item.').concat(e.list.key||"value",'" v-for="(item,index) in ').concat(e.list.name,'" :key="\'').concat(e.key,"List'+index\">{{item.").concat(e.list.labelKey||"label","}}</el-radio>\n        </el-radio-group>\n       </el-form-item>")},getDialogTimeItem:function(e){return e.dialog.combination&&e.dialog.combination.key1&&e.dialog.combination.key2?'\n          <el-form-item label="'.concat(e.label,'"  class="is-required">\n            <datePicker2 :default-time="[formDetail.').concat(e.dialog.combination.key1,", formDetail.").concat(e.dialog.combination.key2,']" :picker-options="dateOptions" is-auto-add-time @change-time="changeTimeFormDetail').concat(e.dialog.combination.key1,'" />\n          </el-form-item>'):'\n         <el-form-item label="'.concat(e.label,'" prop="').concat(e.key,'">\n            <el-date-picker\n              v-model="formDetail.').concat(e.key,'"\n              type="date"\n              format="yyyy-MM-dd"\n              value-format="yyyy-MM-dd"\n              :picker-options="dateOptions"\n              placeholder="日期选择"\n              style="width: 100%"\n              placement="bottom-start"\n            />\n         </el-form-item>')},getDialogMoneyItem:function(e){return'<el-form-item label="'.concat(e.label,'"  prop="').concat(e.key,'">\n       <NumberRange ref="NRangeForm" :value="[formDetail.').concat(e.dialog.combination.key1,", formDetail.").concat(e.dialog.combination.key2,']" @change=";(formDetail.').concat(e.dialog.combination.key1," = $event[0]), (formDetail.").concat(e.dialog.combination.key2,' = $event[1])" />\n      </el-form-item>')},getDialogFile:function(){return""},getDialogAddress:function(e){return'\n        <el-form-item label="'.concat(e.label,'"  prop="').concat(e.key,'">\n          <hhCascader\n              v-model="formDetail.').concat(e.key,'"\n              :options="cnCity"\n              clearable\n              style="display: block"\n            />\n        </el-form-item>')},getDialogPhone:function(e){return'\n          <el-form-item label="'.concat(e.label,'" prop="').concat(e.key,'">\n            <el-input v-model.trim="formDetail.').concat(e.key,'" type="text" maxlength="11" placeholder="请输入').concat(e.label,'" clearable />\n          </el-form-item>')},getDialogEnterprise:function(e){return'\n          <el-form-item label="'.concat(e.label,'" prop="').concat(e.key,'">\n            <el-input v-model.trim="formDetail.').concat(e.key,'" type="text" maxlength="18" placeholder="请输入').concat(e.label,'" clearable />\n          </el-form-item>')},getDetail:function(){return'\n      \x3c!--详情--\x3e\n       <Dialog\n      title="详情"\n      :visible.sync="dialogVisible"\n      width="60%"\n      custom-class="details-box"\n    >\n      <el-form :model="orderDetails" label-width="'.concat(this.getDetailLabelWidth()+12,'px">\n          ').concat(this.getDetailItem(),'\n      </el-form>\n      <div slot="footer" class="dialog-footer" align="center">\n        <el-button size="small" @click="dialogVisible = false">关 闭</el-button>\n      </div>\n    </Dialog>\n      ')},getDetailLabelWidth:function(){var e=this.form.keyList.map((function(e){return e.label}));return this.getLabelWidth(e)},getDetailItem:function(){var e=this,t="";return this.form.keyList.forEach((function(a,n){var o=n===e.form.keyList.length-1&&(n+1)%2===1;t+="select"!==a.type&&"radio"!==a.type||!a.slot.value?'\n          <div class="grid-content '.concat(o?"w-100":"",'">\n          <el-form-item label="').concat(a.label,':">\n            <div> {{ orderDetails.').concat(a.key," }}</div>\n          </el-form-item>\n        </div>\n         ")+"\n":'\n         <div class="grid-content '.concat(o?"w-100":"",'">\n          <el-form-item label="').concat(a.label,':">\n            <div>\n                <span>\n                {{ $utils.find(').concat(a.list.name,",orderDetails.").concat(a.key,',"').concat(a.list.key||"value",'").').concat(a.list.labelKey||"label"," || orderDetails.").concat(a.key,"}}\n               </span>\n            </div>\n          </el-form-item>\n        </div>\n         ")})),t},textInit:function(){var e=!1,t=!1,a=!1,n=!1,o=!1,i=!1,l=!1,r=!1;this.form.keyList.forEach((function(r){r.search.value&&(n=!0),r.table.value&&(l=!0),"time"===r.type&&(e=!0,r.search.value&&(t=!0)),"money"===r.type&&(a=!0),"select"===r.type&&(i=!0),r.dialog.value&&(o=!0)})),this.form.hasForm=n,this.form.hasTime=e,this.form.hasMoney=a,this.form.hasDialog=o,this.form.hasSelect=i,this.form.hasTable=l,this.form.hasPhone=r,this.form.hasSearchTime=t,this.form.searchRow=this.getSearchRow()},submit:function(){this.textInit();var e='\n<template>\n    <div class="app-container">'.concat(this.getForm()).concat(this.getTable()).concat(this.getDialog()).concat(this.getDetail(),"\n    </div>\n</template>\n<script>\n    import TablePage from '@/components/TablePage'").concat(this.getScript(),'<\/script>\n<style lang="scss" scoped>\n    ').concat(this.getCSS(),"\n</style>\n   ");Object(c["a"])(e,"template.vue")},submitRely:function(){this.$refs.rely.click()},listChange:function(e){e.row.list.value?(e.row.list.key="value",e.row.list.labelKey="label",e.row.list.name=e.row.key&&e.row.key+"List"):(e.row.list.key="",e.row.list.labelKey="",e.row.list.name="")}}},u=m,h=(a("9037"),a("2877")),d=Object(h["a"])(u,n,o,!1,null,"6e4b7aa0",null);t["default"]=d.exports},"7db0":function(e,t,a){"use strict";var n=a("23e7"),o=a("b727").find,i=a("44d2"),l=a("ae40"),r="find",c=!0,s=l(r);r in[]&&Array(1)[r]((function(){c=!1})),n({target:"Array",proto:!0,forced:c||!s},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),i(r)},9037:function(e,t,a){"use strict";a("a009")},a009:function(e,t,a){},ce5d:function(e,t,a){"use strict";a("d3b7"),a("159b"),a("b0c0");var n=a("21a6"),o=a("7c39"),i=a.n(o),l=a("5c96");function r(e,t){Object(n["saveAs"])(new Blob([e]),"".concat(t||"demo.txt"))}function c(e,t){var a=new i.a;"[object Array]"===Object.prototype.toString.call(e)&&(e.forEach((function(e){a.file("".concat(e.name||"demo.txt"),e.value)})),a.generateAsync({type:"blob"}).then((function(e){Object(n["saveAs"])(e,"".concat(t||"demo.zip"))}),(function(){Object(l["Message"])({showClose:!0,message:"导出错误",type:"error"})})))}t["a"]=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"single";switch(a){case"single":r(e,t);break;case"zip":c(e,t);break;default:r(e,t);break}}},e9c4:function(e,t,a){var n=a("23e7"),o=a("d066"),i=a("d039"),l=o("JSON","stringify"),r=/[\uD800-\uDFFF]/g,c=/^[\uD800-\uDBFF]$/,s=/^[\uDC00-\uDFFF]$/,m=function(e,t,a){var n=a.charAt(t-1),o=a.charAt(t+1);return c.test(e)&&!s.test(o)||s.test(e)&&!c.test(n)?"\\u"+e.charCodeAt(0).toString(16):e},u=i((function(){return'"\\udf06\\ud834"'!==l("\udf06\ud834")||'"\\udead"'!==l("\udead")}));l&&n({target:"JSON",stat:!0,forced:u},{stringify:function(e,t,a){var n=l.apply(null,arguments);return"string"==typeof n?n.replace(r,m):n}})}}]);